{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "macros/_form_tools.html" as form_tools %}
{% block title %}添加出行人信息{% endblock %}

{% block page_content %}
    <div class="row">
    <div class="col-sm-offset-2 col-sm-8">
         <div class="page-header">
        <h3>添加出行人信息</h3>
    </div>
    <div>
        <form action="" method="POST" class="form form-horizontal" role="form">
        {{ form.hidden_tag() }}
            <div class="form-group">
            {{ form.solution.label }}
            {{ form.solution() }}
            </div>
            <div class="form-group">
                {{ form.province.label }}
                {{ form.province() }}
            </div>
            <div class="form-group">
                {{ form.comment.label }}
                {{ form.comment() }}
                {{ form_tools.render_error(form.comment.errors) }}
            </div>
            {% for contact_form in form.contacts %}
                <h3>添加第{{ loop.index }}位出行人信息</h3>
                {{ contact_form.hidden_tag() }}
                <div class="form-group">
                    {{ contact_form.real_name.label }}
                    {{ contact_form.real_name() }}
                    {{ form_tools.render_error(contact_form.real_name.errors) }}
                </div>
                <div class="form-group">
                    {{ contact_form.identity.label }}
                    {{ contact_form.identity() }}
                    {{ form_tools.render_error(contact_form.identity.errors) }}
                </div>
                <div class="form-group">
                    {{ contact_form.gender.label }}
                    {{ contact_form.gender() }}
                </div>
                <div class="form-group">
                    {{ contact_form.age.label }}
                    {{ contact_form.age() }}
                    {{ form_tools.render_error(contact_form.age.errors) }}
                </div>
                <div class="form-group">
                    {{ contact_form.phone.label }}
                    {{ contact_form.phone() }}
                    {{ form_tools.render_error(contact_form.phone.errors) }}
                </div>
                 <div class="separator"> </div>
            {% endfor %}
        {{ form.submit() }}
        </form>
    {#
    <form action="" method="post">
    <!-- 没有Hidden field 会报错form no attr '_fields' -->
        <div class="form-group">
            {{ form.solution.label }}
            {{ form.solution() }}
        </div>
        <div class="form-group">
            {{ form.province.label }}
            {{ form.province() }}
        </div>
        <div class="form-group">
            {{ form.comment.label }}
            {{ form.comment() }}
        </div>
        {% for i in count %}
            <!-- 后续添加验证 -->
            <h4>添加第{{ loop.index }}位出行人信息</h4>
            <div class="contact">
            <div class="form-group">
                <label for="contacts-{{ i }}-name">姓名</label>
                <input type="text" class="form-control" id="contacts-{{ i }}-name"
                       name="contacts-{{ i }}-name"/>
            </div>
            </div>
            <div class="form-group">
                <label for="contacts-{{ i }}-identity">身份证号</label>
                <input type="text" class="form-control" id="contacts-{{ i }}-identity"
                       name="contacts-{{ i }}-identity"/>
            </div>
            <div class="form-group">
                <label for="contacts-{{ i }}-phone">联系电话</label>
                <input type="text" class="form-control" id="contacts-{{ i }}-phone"
                       name="contacts-{{ i }}-phone"/>
            </div>
            <div class="form-group">
                <label for="contacts-{{ i }}-gender">性别</label>
                <select>
                    <option value="0">男</option>
                    <option value="1">女</option>
                </select>
                <input type="text" class="form-control" id="contacts-{{ i }}-gender"
                       name="contacts-{{ i }}-gender"/>
            </div>
            <div class="form-group">
                <label for="contacts-{{ i }}-age">年龄</label>
                <input type="text" class="form-control" id="contacts-{{ i }}-age"
                       name="contacts-{{ i }}-age"/>
            </div>
            <div class="separator"> </div>
        {% endfor %}
        {{ form.submit() }}
    </form>

</form>
 #}
    </div>
    </div>
    </div>


{% endblock %}